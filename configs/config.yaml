# Configuration file cho dự án

# Data paths
data:
  root_dir: "./data"
  seasons: ["spring", "summer", "fall", "winter"]
  before_season: "spring"
  after_season: "winter"
  
# Dataset split
split:
  train_ratio: 0.7
  val_ratio: 0.15
  test_ratio: 0.15
  random_seed: 42

# Preprocessing
preprocessing:
  speckle_filter:
    method: "lee"  # "lee", "frost", "median"
    window_size: 5
  
  normalization:
    method: "min_max"  # "min_max", "z_score", "histogram_eq"
  
  alignment:
    feature_detector: "orb"  # "orb", "sift", "akaze"
    max_features: 500
  
  resize:
    target_size: [256, 256]
    padding_value: 0

# Ground truth generation
ground_truth:
  method: "otsu"  # "otsu", "mean", "adaptive"
  min_change_area: 50
  morphology_kernel_size: 5

# Model
model:
  name: "unet"
  n_channels: 2
  n_classes: 1
  bilinear: true

# Training
training:
  batch_size: 8
  num_epochs: 50
  learning_rate: 0.0001
  device: "cuda"  # "cuda" or "cpu"
  
  loss:
    type: "combined"  # "bce", "dice", "combined"
    bce_weight: 0.5
    dice_weight: 0.5
  
  optimizer:
    type: "adam"
    weight_decay: 0.0001
  
  scheduler:
    type: "reduce_on_plateau"
    mode: "min"
    factor: 0.5
    patience: 5
  
  augmentation:
    horizontal_flip: 0.5
    vertical_flip: 0.5
    rotate_limit: 30
    brightness_contrast: 0.5
    gaussian_noise: 0.3

# Inference
inference:
  threshold: 0.5
  min_area: 50
  kernel_size: 5
  
  visualization:
    color: [255, 0, 0]  # RGB
    alpha: 0.5
    draw_contours: true

# Paths
paths:
  checkpoint_dir: "./checkpoints"
  best_model: "./best_model.pth"
  predictions_dir: "./predictions"
  logs_dir: "./logs"